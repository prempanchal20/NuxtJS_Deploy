import{_ as j}from"./Badge.e58c5f84.js";import{_ as E}from"./NCodeBlock.vue.e2044e41.js";import{_ as F}from"./NCheckbox.vue.f53d5fde.js";import{_ as G}from"./NTip.vue.16191ba5.js";import{a as L,D as Q,aQ as W,r as x,aR as Z,B as q,o as r,h as p,Z as z,u as e,t as h,v as N,F as b,i as t,c as A,w as o,f as _,I as V,l as u,k as H,L as J}from"./entry.f02d2ccc.js";const K={key:0},M={p4:"",flex:"~ col gap-1"},O={class:"text-lg font-medium leading-6"},X=_("p",{op50:""}," The following command will be executed in your terminal: ",-1),Y={flex:"~ gap-3",mt2:"","justify-end":""},se=L({__name:"NpmVersionCheck",props:{packageName:null,options:null,showVersion:{type:Boolean,default:!0}},setup(f){const i=f,$=Q(),{info:l,update:w,state:B,processId:R,restart:U}=W(i.packageName,i.options),c=x(!0),d=x(!0),D=Z(),g=q();async function k(){const n=await w(async a=>g.start(a));n&&d.value&&D.value.push({id:n,message:`${i.packageName} has been updated. Do you want to restart the Nuxt server now?`}),n&&c.value&&$.push(`/modules/terminals?id=${encodeURIComponent(n)}`)}return(n,a)=>{const y=j,T=E,C=F,I=G,v=H,P=J;return r(),p(b,null,[z(n.$slots,"default",{id:e(R),info:e(l),update:k,state:e(B),restart:e(U)},()=>[e(l)&&f.showVersion?(r(),p("code",K,h(`v${e(l).current}`),1)):N("",!0),e(l)?.latest?(r(),p(b,{key:1},[e(l).needsUpdate?(r(),p("button",{key:0,onClick:a[0]||(a[0]=m=>k())},[t(y,{"bg-green-400:10":"","text-green-400":"",title:"updates available",textContent:"updates available"})])):(r(),A(y,{key:1,"bg-gray-400:10":"","text-gray-400":"",title:"latest",textContent:"latest"}))],64)):N("",!0)]),t(e(g),null,{default:o(({resolve:m,args:S})=>[t(P,{"model-value":!0,onClose:s=>m(!1)},{default:o(()=>[_("div",M,[_("h3",O," Update "+h(i.packageName)+"? ",1),X,t(T,{code:S[0],lang:"bash",my3:"",px4:"",py2:"",border:"~ base rounded",lines:!1},null,8,["code"]),t(C,{modelValue:e(c),"onUpdate:modelValue":a[1]||(a[1]=s=>V(c)?c.value=s:null),n:"primary"},{default:o(()=>[u(" Navigate to terminal ")]),_:1},8,["modelValue"]),t(C,{modelValue:e(d),"onUpdate:modelValue":a[2]||(a[2]=s=>V(d)?d.value=s:null),n:"primary"},{default:o(()=>[u(" Restart Nuxt server after update ")]),_:1},8,["modelValue"]),_("div",Y,[t(I,{n:"sm purple","flex-auto":"",icon:"carbon-chemistry"},{default:o(()=>[u(" Experimental feature. Please make sure to backup your project first. ")]),_:1}),t(v,{onClick:s=>m(!1)},{default:o(()=>[u(" Cancel ")]),_:2},1032,["onClick"]),t(v,{n:"solid primary",onClick:s=>m(!0)},{default:o(()=>[u(" Update ")]),_:2},1032,["onClick"])])])]),_:2},1032,["onClose"])]),_:1})],64)}}});export{se as _};
